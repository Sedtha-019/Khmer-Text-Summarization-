<!DOCTYPE html>
<html lang="km">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SummarizeKH - សង្ខេបអត្ថបទជាភាសាខ្មែរ</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Hanuman:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="../static/style.css" rel="stylesheet" />
    <link href="../static/index.css" rel="stylesheet" />
  </head>
  <body>
    <header>
      <div class="logo">
        <img
          src="{{ url_for('static', filename='image/rac.png') }}"
          alt="AMS logo"
        />
        <div class="title">
          រាជបណ្ឌិត្យសភាកម្ពុជា<br />
          Royal Academy of Cambodia
        </div>
        <div class="main-title">KHMERE AI TOOL<br /></div>
      </div>
      <nav class="navbar navbar-expand-lg navbar-custom">
        <div class="container-fluid">
          <div class="collapse navbar-collapse show d-flex justify-content-between align-items-center">
            <ul class="navbar-nav mb-2 mb-lg-0 d-flex flex-wrap">
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('landing') }}">
                  <span data-lang="en" class="active">Home</span>
                  <span data-lang="km">ទំព័រដើម</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('how_to_use') }}">
                  <span data-lang="en" class="active">How to Use</span>
                  <span data-lang="km">របៀបប្រើប្រាស់</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('about') }}">
                  <span data-lang="en" class="active">About Us</span>
                  <span data-lang="km">អំពីយើង</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('contact') }}">
                  <span data-lang="en" class="active">Contact</span>
                  <span data-lang="km">ទំនាក់ទំនង</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div class="language-switcher-container py-2">
      <div class="container d-flex justify-content-end">
        <div class="language-switcher d-inline-flex align-items-center gap-2">
          <i class="fas fa-globe"></i>
          <button class="lang-btn active" onclick="switchLanguage('en')">English</button>
          <button class="lang-btn" onclick="switchLanguage('km')">ភាសាខ្មែរ</button>
        </div>
      </div>
    </div>

    <main class="translator container my-4">
      <!-- Input Section -->
      <section class="box mb-4">
        <label for="input">
          <span data-lang="en" class="active">Khmer Text</span>
          <span data-lang="km">ភាសាខ្មែរ</span>
        </label>
        <div id="input" class="editable" contenteditable="true" data-placeholder="សូមបញ្ចូលអត្ថបទសង្ខេប"></div>

        <div class="bottom-bar d-flex justify-content-between align-items-center mt-3">
          <div class="icon-buttons">
            <button class="icon-btn" onclick="copyInputText()" title="ចម្លង">
              <i class="fas fa-copy"></i>
            </button>
            <button class="icon-btn" onclick="clearInput()" title="លុប">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <button class="btn-summarize" onclick="summarizeText()"> <span data-lang="en" class="active">Summarize</span> <span data-lang="km">សង្ខេប</span> </button> <button class="btn-upload" onclick="uploadFile()"> <i class="fas fa-upload"></i> <span data-lang="en" class="active">Upload File</span> <span data-lang="km">ផ្ទុកឡើងឯកសារ</span> <input type="file" id="file-input" accept=".txt,.docx,.pdf" style="display: none" onchange="handleFileUpload(event)" /> </div>
        </div>
      </section>

      <!-- Outputs Section -->
      <section class="outputs-container">
        <!-- Output 1 -->
        <div class="output-section">
          <div class="model-dropdown">
            <label for="model-select-1">
              <span data-lang="en" class="active">Select Model:</span>
              <span data-lang="km">ជ្រើសរើស Model:</span>
            </label>
            <select id="model-select-1">
              <option value="model1">Model 1 - mBART</option>
              <option value="model2">Model 2 - mT5</option>
            </select>
          </div>
          <div class="output-box-wrapper">
            <label>
              <span data-lang="en" class="active">Summary Result</span>
              <span data-lang="km">លទ្ធផលសង្ខេប</span>
            </label>
            <div id="output1" class="output-content" data-placeholder="លទ្ធផលសង្ខេបនឹងបង្ហាញនៅទីនេះ"></div>
            <button class="icon-btn" onclick="copyOutput('output1')" title="ចម្លងលទ្ធផល">
              <i class="fas fa-copy"></i>
            </button>
            <span id="timer1" class="timer-text">🕒 0.000s</span>
          </div>
        </div>

        <!-- Output 2 -->
        <div class="output-section">
          <div class="model-dropdown">
            <label for="model-select-2">
              <span data-lang="en" class="active">Select Model:</span>
              <span data-lang="km">ជ្រើសរើស Model:</span>
            </label>
            <select id="model-select-2">
              <option value="model1">Model 1 - mBART</option>
              <option value="model2" selected>Model 2 - mT5</option>
            </select>
          </div>
          <div class="output-box-wrapper">
            <label>
              <span data-lang="en" class="active">Summary Result</span>
              <span data-lang="km">លទ្ធផលសង្ខេប</span>
            </label>
            <div id="output2" class="output-content" data-placeholder="លទ្ធផលសង្ខេបនឹងបង្ហាញនៅទីនេះ"></div>
            <button class="icon-btn" onclick="copyOutput('output2')" title="ចម្លងលទ្ធផល">
              <i class="fas fa-copy"></i>
            </button>
            <span id="timer2" class="timer-text">🕒 0.000s</span>
          </div>
        </div>
      </section>

      <a href="{{ url_for('features') }}" class="btn-back-features" style="margin-top: 4rem;">
        <i class="fas fa-arrow-left"></i>
        <span data-lang="en" class="active">Back to Features</span>
        <span data-lang="km">ត្រឡប់ទៅក្រោយ</span>
      </a>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../static/index.js"></script>
  </body>
</html>
